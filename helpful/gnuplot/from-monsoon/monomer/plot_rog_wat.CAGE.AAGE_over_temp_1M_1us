#!/bin/bash
set -e 

#using 1M (high) conc for ILs
#used 500ns for wat and 500ns for IL

#wat_rog
./../../../analysis_scripts/avg_sterror 2 /scratch/ksg225/projects/insulin/insAB/monomer/simulation/4-prod/253K/converged_analysis/analysis_1us/rog_and_dist_1us/prod.mono.radgyr.conv.1us.out >> rogavg_wat.dat
./../../../analysis_scripts/avg_sterror 2 /scratch/ksg225/projects/insulin/insAB/monomer/simulation/4-prod/294K/converged_analysis/analysis_1us/rog_and_dist_1us/prod.mono.radgyr.conv.1us.out >> rogavg_wat.dat 
./../../../analysis_scripts/avg_sterror 2 /scratch/ksg225/projects/insulin/insAB/monomer/simulation/4-prod/310K/converged_analysis/analysis_1us/rog_and_dist_1us/prod.mono.radgyr.conv.1us.out >> rogavg_wat.dat
./../../../analysis_scripts/avg_sterror 2 /scratch/ksg225/projects/insulin/insAB/monomer/simulation/4-prod/350K/converged_analysis/analysis_1us/rog_and_dist_1us/prod.mono.radgyr.conv.1us.out >> rogavg_wat.dat

#CAGE_rog
./../../../analysis_scripts/avg_sterror 2 /scratch/ksg225/projects/insulin/insAB/monomer_CAGE/1M/simulation/4-prod/253K/converged_analysis/analysis_1us/rog_and_dist_1us/prod.mono.radgyr.conv.1us.out >> rogavg_CAGE.dat
./../../../analysis_scripts/avg_sterror 2 /scratch/ksg225/projects/insulin/insAB/monomer_CAGE/1M/simulation/4-prod/294K/converged_analysis/analysis_1us/rog_and_dist_1us/prod.mono.radgyr.conv.1us.out >> rogavg_CAGE.dat
./../../../analysis_scripts/avg_sterror 2 /scratch/ksg225/projects/insulin/insAB/monomer_CAGE/1M/simulation/4-prod/310K/converged_analysis/analysis_1us/rog_and_dist_1us/prod.mono.radgyr.conv.1us.out >> rogavg_CAGE.dat
./../../../analysis_scripts/avg_sterror 2 /scratch/ksg225/projects/insulin/insAB/monomer_CAGE/1M/simulation/4-prod/350K/converged_analysis/analysis_1us/rog_and_dist_1us/prod.mono.radgyr.conv.1us.out >> rogavg_CAGE.dat

#mCAGE_rog
./../../../analysis_scripts/avg_sterror 2 /scratch/ksg225/projects/insulin/insAB/monomer_AAGE/1M/simulation/4-prod/253K/converged_analysis/analysis_1us/rog_and_dist_1us/prod.mono.radgyr.conv.1us.out >> rogavg_AAGE.dat
./../../../analysis_scripts/avg_sterror 2 /scratch/ksg225/projects/insulin/insAB/monomer_AAGE/1M/simulation/4-prod/294K/converged_analysis/analysis_1us/rog_and_dist_1us/prod.mono.radgyr.conv.1us.out >> rogavg_AAGE.dat
./../../../analysis_scripts/avg_sterror 2 /scratch/ksg225/projects/insulin/insAB/monomer_AAGE/1M/simulation/4-prod/310K/converged_analysis/analysis_1us/rog_and_dist_1us/prod.mono.radgyr.conv.1us.out >> rogavg_AAGE.dat
./../../../analysis_scripts/avg_sterror 2 /scratch/ksg225/projects/insulin/insAB/monomer_AAGE/1M/simulation/4-prod/350K/converged_analysis/analysis_1us/rog_and_dist_1us/prod.mono.radgyr.conv.1us.out >> rogavg_AAGE.dat




gnuplot -persist << EOF
	
#rog
        
        set terminal postscript eps enhanced color font "/usr/share/fonts/gnu-free/FreeSans.ttf, 32" solid size 12,6 linewidth 2
        set output 'rog_wat.CAGE.AAGE_over_temp_1M_1us.eps'
        set border lw 2
        set key spacing 1.1

	set xlabel 'Temperature (K)'
        set ylabel 'Radius of Gyration ({\305})'  
	set key t l
        #set yrange [0:0.9]
	set xrange [252:351]
	temperature = "253 294 310 350"
	set bars 4
	set pointsize 3	

	plot \
"rogavg_wat.dat" using (word(temperature,int(column(0))+1)+0.0):1 with linespoints pt 7 lw 6 linecolor rgb "#0072B2" title "In Water" , "" using (word(temperature,int(column(0))+1)+0.0):1:3 with errorbars pt 7 lw 4 linecolor rgb "#0072B2" notitle,\
"rogavg_CAGE.dat" using (word(temperature,int(column(0))+1)+0.0):1 with linespoints pt 7 lw 6 linecolor rgb "#009E73" title "In CAGE" , "" using (word(temperature,int(column(0))+1)+0.0):1:3 with errorbars pt 7 lw 4 linecolor rgb "#009E73" notitle,\
"rogavg_AAGE.dat" using (word(temperature,int(column(0))+1)+0.0):1 with linespoints pt 7 lw 6 linecolor rgb "#D55E00" title "In mCAGE" , "" using (word(temperature,int(column(0))+1)+0.0):1:3 with errorbars pt 7 lw 4 linecolor rgb "#D55E00" notitle

	pause -1

EOF

rm rogavg_*.dat

#gv rog_wat.CAGE.AAGE_over_temp_1M_1us.eps
epstopdf rog_wat.CAGE.AAGE_over_temp_1M_1us.eps

